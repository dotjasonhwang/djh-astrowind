# Decap CMS Configuration
# Documentation: https://decapcms.org/docs/

# Backend configuration
backend:
  name: git-gateway
  branch: main # Branch to update (main or master)
  
# Alternative backend for GitHub (uncomment and configure if not using Netlify)
# backend:
#   name: github
#   repo: your-username/your-repo-name
#   branch: main

# Media and public folders
media_folder: "public/assets/images/uploads" # Media files will be stored in this folder
public_folder: "/assets/images/uploads" # The src attribute for uploaded media

# Local development
local_backend: true # Enable for local development (run `npx decap-server` first)

# Site URL (update to your production URL)
site_url: https://your-site.netlify.app
display_url: https://your-site.netlify.app

# Logo (optional)
logo_url: /favicon.svg

# Collections define the structure for different content types
collections:
  # Blog Posts
  - name: "blog"
    label: "Blog Posts"
    folder: "src/content/post"
    create: true
    slug: "{{slug}}"
    preview_path: "blog/{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publication Date", name: "publishDate", widget: "datetime" }
      - { label: "Author", name: "author", widget: "string", default: "DJH Web Designs" }
      - { label: "Description", name: "description", widget: "text" }
      - { label: "Featured Image", name: "image", widget: "image", required: false }
      - { label: "Tags", name: "tags", widget: "list", required: false }
      - { label: "Category", name: "category", widget: "string", required: false }
      - { label: "Draft", name: "draft", widget: "boolean", default: false }
      - { label: "Body", name: "body", widget: "markdown" }

  # Pages
  - name: "pages"
    label: "Pages"
    files:
      # About Page
      - label: "About Page"
        name: "about"
        file: "src/pages/about.astro"
        fields:
          - { label: "Page Title", name: "title", widget: "string" }
          - { label: "Description", name: "description", widget: "text" }
          - { label: "Content", name: "content", widget: "markdown" }
      
      # Services Page
      - label: "Services Page"
        name: "services"
        file: "src/pages/services.astro"
        fields:
          - { label: "Page Title", name: "title", widget: "string" }
          - { label: "Description", name: "description", widget: "text" }
          - { label: "Content", name: "content", widget: "markdown" }

  # Business Information
  - name: "business"
    label: "Business Info"
    files:
      - label: "Business Details"
        name: "client"
        file: "src/data/client.json"
        fields:
          - { label: "Business Name", name: "name", widget: "string" }
          - { label: "Email", name: "email", widget: "string" }
          - { label: "Phone (for tel: links)", name: "phoneForTel", widget: "string" }
          - { label: "Phone (formatted display)", name: "phoneFormatted", widget: "string" }
          - { label: "Domain", name: "domain", widget: "string" }
          
          # Address
          - label: "Address"
            name: "address"
            widget: "object"
            fields:
              - { label: "Address Line 1", name: "lineOne", widget: "string" }
              - { label: "Address Line 2", name: "lineTwo", widget: "string", required: false }
              - { label: "City", name: "city", widget: "string" }
              - { label: "State", name: "state", widget: "string" }
              - { label: "ZIP Code", name: "zip", widget: "string" }
              - { label: "Map Link", name: "mapLink", widget: "string" }
          
          # Business Hours
          - label: "Business Hours"
            name: "businessHours"
            widget: "object"
            fields:
              - label: "Monday"
                name: "monday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Tuesday"
                name: "tuesday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Wednesday"
                name: "wednesday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Thursday"
                name: "thursday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Friday"
                name: "friday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Saturday"
                name: "saturday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
              - label: "Sunday"
                name: "sunday"
                widget: "object"
                fields:
                  - { label: "Open Time", name: "open", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Close Time", name: "close", widget: "string", pattern: ["^([01]?[0-9]|2[0-3]):[0-5][0-9]$", "Please use HH:MM format"] }
                  - { label: "Closed", name: "closed", widget: "boolean", default: false }
          
          # Services
          - label: "Services"
            name: "services"
            widget: "list"
            fields:
              - { label: "Service Name", name: "name", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Featured Service", name: "featured", widget: "boolean", default: false }
          
          # Social Media
          - label: "Social Media"
            name: "socialMedia"
            widget: "object"
            fields:
              - { label: "Facebook", name: "facebook", widget: "string", required: false }
              - { label: "Instagram", name: "instagram", widget: "string", required: false }
              - { label: "Twitter", name: "twitter", widget: "string", required: false }
              - { label: "LinkedIn", name: "linkedin", widget: "string", required: false }
              - { label: "YouTube", name: "youtube", widget: "string", required: false }
              - { label: "Google", name: "google", widget: "string", required: false }
          
          # Company Info
          - label: "Company Information"
            name: "company"
            widget: "object"
            fields:
              - { label: "Founded Year", name: "founded", widget: "string" }
              - { label: "Tagline", name: "tagline", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Certifications", name: "certifications", widget: "list", required: false }
              - { label: "Specialties", name: "specialties", widget: "list", required: false }

# Editor settings
editor:
  preview: true # Enable preview pane

# Development settings
development_overrides:
  backend:
    name: file-system
    api_root: /api